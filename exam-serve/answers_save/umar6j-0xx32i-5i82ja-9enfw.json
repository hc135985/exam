[{"title":"实现发布订阅模式","questions_id":"aihpv-1ru212-wun87-0hli3","json_path":"aihpv-1ru212-wun87-0hli3.json","subject_text":"项目实战","subject_id":"94sjh6-lnlxe","exam_id":"jpg8y9-zbzt7o-jpvuhf-fwnjvr","exam_name":"周考2","user_name":"w916peach","user_id":"axg8t2-oroeja","questions_type_text":"手写代码","questions_type_id":"v8i73-r8oai","questions_stem":"现在有一个类 \n\n```\nclass Watch{\n  on(){\n   // 实现该方法逻辑\n  }\n  emit(){\n   // 实现该方法逻辑 \n  }\n}\n\n//调用示例如下：\nconst w1 = new Watch();\nw1.on('www',(options) => {\n  console.log(options)\n});\nw1.emit('www','success');\n\n// 最后的打印结果是  success\n\n```\n\n请实现要求的逻,可以对该类进行任意修改","student_answer":"class PubSub {\n    constructor () {\n        this.eventList = {};\n    }\n    on (eventName, handle) {\n        if ( !(eventName in this.eventList) ) {\n            this.eventList[eventName] = [];\n        }\n        this.eventList[eventName].push(handle);\n        return this;\n    }\n    emit (eventName, ...data) {\n        const currentEvent = this.eventList[eventName];\n\n        if (Object.prototype.toString.call(currentEvent) !== '[object Array]') {\n            return false\n        }\n \n        currentEvent.forEach((item) => {\n            item.apply(null, data);\n        });\n\n        return this;\n    }\n\n}\n\nconst pubsub = new PubSub();\n// 订阅A事件\n\npubsub.on('A', (...args) => {\n\n    console.log(args);\n});\n\n// 订阅B事件\npubsub.on('B', (...args) => \n    console.log(args)\n});\n \n// 发布A事件\n44\npubsub.emit('A', {\n45\n    name: 'zhaoyiming',\n46\n    work: 'FE'\n47\n});\n48\n \n49\n// 发布B事件\n50\npubsub.emit('B', 'event B');\n\n class PubSub {\n02\n    constructor () {\n03\n        this.eventList = {};\n04\n    }\n05\n \n06\n    on (eventName, handle) {\n07\n        if ( !(eventName in this.eventList) ) {\n08\n            this.eventList[eventName] = [];\n09\n        }\n10\n         \n11\n        this.eventList[eventName].push(handle);\n12\n         \n13\n        return this;\n14\n    }\n\n    emit (eventName, ...data) {\n17\n        const currentEvent = this.eventList[eventName];\n\n        if (Object.prototype.toString.call(currentEvent) !== '[object Array]') {\n\n            return false;\n\n        }\n\n        currentEvent.forEach((item) => {\n            item.apply(null, data);\n        });\n\n        return this;\n    }\n}\n\nconst pubsub = new PubSub();\n\npubsub.on('A', (...args) => {\n\n    console.log(args);\n\n});\n\n// 订阅B事件\n\npubsub.on('B', (...args) => {\n\n    console.log(args);\n});\n\n\npubsub.emit('A', {\n\n    name: 'zhaoyiming',\n    work: 'FE'\n\n});\n\n// 发布B事件\npubsub.emit('B', 'event B');\n\nclass PubSub {\n02\n    constructor () {\n03\n        this.eventList = {};\n04\n    }\n05\n \n06\n    on (eventName, handle) {\n07\n        if ( !(eventName in this.eventList) ) {\n08\n            this.eventList[eventName] = [];\n09\n        }\n10\n         \n11\n        this.eventList[eventName].push(handle);\n12\n         \n13\n        return this;\n14\n    }\n15\n \n16\n    emit (eventName, ...data) {\n17\n        const currentEvent = this.eventList[eventName];\n18\n \n19\n        if (Object.prototype.toString.call(currentEvent) !== '[object Array]') {\n20\n            return false;\n21\n        }\n22\n \n23\n        currentEvent.forEach((item) => {\n24\n            item.apply(null, data);\n25\n        });\n26\n \n27\n        return this;\n28\n    }\n29\n}\n30\n \n31\nconst pubsub = new PubSub();\n32\n \n33\n// 订阅A事件\n34\npubsub.on('A', (...args) => {\n35\n    console.log(args);\n36\n});\n37\n \n38\n// 订阅B事件\n39\npubsub.on('B', (...args) => {\n40\n    console.log(args);\n41\n});\n42\n \n43\n// 发布A事件\n44\npubsub.emit('A', {\n45\n    name: 'zhaoyiming',\n46\n    work: 'FE'\n47\n});\n48\n \n49\n// 发布B事件\n50\npubsub.emit('B', 'event B');\n"},{"title":"async配合transition实现自定义动画","questions_id":"bqq54a-jly2z9-m9fg7pj-oio193","json_path":"bqq54a-jly2z9-m9fg7pj-oio193.json","subject_text":"项目实战","subject_id":"94sjh6-lnlxe","exam_id":"jpg8y9-zbzt7o-jpvuhf-fwnjvr","exam_name":"周考2","user_name":"w916peach","user_id":"axg8t2-oroeja","questions_type_text":"代码补全","questions_type_id":"fwf0t-wla1q","questions_stem":"html结构\n```html\n<div id=\"box\"></div>\n```\ncss样式\n```css\n#box{\n  width:100px; height:100px; background-color:red; border-radius:50%; transition:transform 0.5s;\n}\n```\njavaScript代码\n```js\n        const oBox = document.getElementById('box');\n        oBox.addEventListener('transitionend',()=>{\n            let {x,y} = oBox;\n            moveTo.reslove({x,y});\n        },false);\n        function moveTo(x,y){\n            return new Promise((reslove,reject)=>{\n                moveTo.reslove = reslove;\n                oBox.x = x;\n                oBox.y = y;\n                oBox.style.transform = `translate(${x}px,${y}px)`;\n            })\n        }\n```\n\n补全以上代码，使点击oBox后，使oBox走出一个  W 的轨迹（使用async函数实现），并简单写出整体的代码思路。","student_answer":"   const oBox = document.getElementById('box');\n        oBox.addEventListener('transitionend',()=>{\n            let {x,y} = oBox;\n          var asyncReadFile = async function (){\n          var f1 = await moveTo(x,y);\n          var f2 = await moveTo(x,y);  \n          var f3 = await moveTo(x,y);\n          var f4 = await moveTo(x,y);\n              f1()\n             f2()   \n             f3()\n             f4()\n        };\n\n        },false);\n        function moveTo(x,y){\n            return new Promise((reslove,reject)=>{\n                moveTo.reslove = reslove;\n                oBox.x = x;\n                oBox.y = y;\n                oBox.style.transform = `translate(${x}px,${y}px)`;\n            })\n        }"},{"title":"输入的reduce方法","questions_id":"zyocwi-drka9-kx8vv-blrmw9p","json_path":"zyocwi-drka9-kx8vv-blrmw9p.json","subject_text":"项目实战","subject_id":"94sjh6-lnlxe","exam_id":"jpg8y9-zbzt7o-jpvuhf-fwnjvr","exam_name":"周考2","user_name":"w916peach","user_id":"axg8t2-oroeja","questions_type_text":"手写代码","questions_type_id":"v8i73-r8oai","questions_stem":"现在有一个数组如下：\n```js\n    const car = [\n            {\n                groupName:'水果',\n                type:[\n                    {\n                        name:'苹果',\n                        price:10\n                    },\n                    {\n                        name:'橘子',\n                        price:40\n                    },\n                    {\n                        name:'香蕉',\n                        price:90\n                    }\n                ]\n            },\n            {\n                groupName:'蔬菜',\n                type:[\n                    {\n                        name:'芹菜',\n                        price:10\n                    },\n                    {\n                        name:'菠菜',\n                        price:15\n                    },\n                    {\n                        name:'土豆',\n                        price:8\n                    }\n                ]\n            }\n        ]\n```\n\n根据上述数据，编写一个函数，该函数(computedPrice)接收上述的数据作为参数，返回一个对象，请输入用数组的reduce方法实现。对象的格式如下\n\n```js\n       {\n            allPrice:所有商品的总价格,\n            group:[\n                {\n                    typeName:'水果',\n                    price:所有水果的总价格\n                },\n                {\n                    typeName:'蔬菜',\n                    price:所有蔬菜的总价格\n                }\n            ]\n        } \n```  ","student_answer":"function Fn(arr){\n  let obj={\n        allPrice:\"所有商品的总价：\",\n        group:[]\n     };\n  arr.map((item)=>{\n  obj.grounp={\n    typeName:item.groupName，\n    price:item.type.reduce((total,current)=>{\n    return total+current.price\n     },0)\n   }\n  })\n return obj\n}\n console.log(Fn(car));"},{"title":"完成 convert(list) 函数，实现将 list 转为 tree","questions_id":"lahic9-5l9ax7-2c5a09-ukz1o","json_path":"lahic9-5l9ax7-2c5a09-ukz1o.json","subject_text":"javaScript下","subject_id":"wl5yk-38c0g","exam_id":"ukmp9b-radddj-ogwdr-nw3ane","exam_name":"周考3","user_name":"liuyu","user_id":"kqpvys-hpzkdt","questions_type_text":"手写代码","questions_type_id":"v8i73-r8oai","questions_stem":"\n```\n\n/**\n * @param list {object[]}, \n * @param parentKey {string}\n * @param currentKey {string}\n * @param rootValue {any}\n * @return object\n */\nfunction convert(list, parentKey, currentKey, rootValue) {\n  let tree = {}\n    \n  return tree\n}\n\n接收\nconst list = [\n  {\n    \"id\": 19,\n    \"parentId\": 0,\n  },\n  {\n    \"id\": 18,\n    \"parentId\": 16,\n  },\n  {\n    \"id\": 17,\n    \"parentId\": 16,\n  },\n  {\n    \"id\": 16,\n    \"parentId\": 0,\n  }\n];\n\n返回\nconst result = convert(list, 'parentId', 'id', 0);\nconst tree = {\n  \"id\": 0,\n  \"children\": [\n    {\n      \"id\": 19,\n      \"parentId\": 0\n    },\n    {\n      \"id\": 16,\n      \"parentId\": 0,\n      \"children\": [\n        {\n          \"id\": 18,\n          \"parentId\": 16\n        },\n        {\n          \"id\": 17,\n          \"parentId\": 16\n        }\n      ]\n    }\n  ]\n}\n\n\n```\n\n\n\n\n\n\n\n\n\n\n\n","student_answer":"function getTrees(list, parentKey) {\n    let items= {};\n    // 获取每个节点的直属子节点，*记住是直属，不是所有子节点\n    for (let i = 0; i < list.length; i++) {\n         let key = list[i].parentId;\n         if (items[key]) {\n             items[key].push(list[i]);\n         } else {\n             items[key] = [];\n             items[key].push(list[i]);\n         }\n     }\n\n   let result = [];\n    if (!items[parentKey]) {\n        return result;\n    }\n    for (let t of items[parentKey]) {\n        result.id=parentKey;\n        result.children=[]\n        result.children.push(t);\n    \n    }\n  \n  return result\n}\n console.log(getTrees(list,0))"}]