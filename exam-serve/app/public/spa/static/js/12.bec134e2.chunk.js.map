{"version":3,"sources":["webpack:///./src/components/Login/index.less?351c","page/login/login.module.css","components/Login/index.less","components/Login/sub/map.js","components/Login/sub/context.js","components/Login/sub/item.js","components/Login/sub/submit.js","components/Login/index.js","page/login/index.jsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","group","wraper","login-wraper","push","map","UserName","props","size","id","prefix","react_default","a","createElement","icon","type","className","styles","prefixIcon","placeholder","rules","required","message","Password","pattern","Mobile","Captcha","LoginContext","createContext","FormItem","es_form","Item","WrapFormItem","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","onGetCaptcha","result","Promise","then","runGetCaptchaCountDown","getFormItemOptions","_ref","onChange","defaultValue","customprops","initialValue","count","countDown","setState","interval","setInterval","clearInterval","state","_this$props","updateActive","name","getFieldDecorator","form","_this$props2","getCaptchaButtonText","getCaptchaSecondText","restProps","objectWithoutProperties","otherProps","inputProps","omit","row","gutter","col","span","input","assign","es_button","disabled","getCaptcha","onClick","concat","Component","defaultProps","LoginItem","keys","ItemMap","forEach","key","item","sub_context","Consumer","context","item_WrapFormItem","LoginSubmit","rest","clsString","classNames","submit","htmlType","Login","onSwitch","onTabChange","getContext","tabs","tabUtil","addTab","toConsumableArray","removeTab","filter","currentId","activeItem","_this$state","active","handleSubmit","e","preventDefault","_this$state2","onSubmit","activeFileds","validateFields","force","err","values","defaultActiveKey","children","_this$state3","TabChildren","otherChildren","React","Children","typeName","Provider","value","login","length","Fragment","es_tabs","animated","activeKey","Tab","LoginTab","Submit","src_components_Login","create","LoginDemo","connect","store","window","objectSpread","notice","autoLogin","user_name","user_pwd","changeAutoLogin","ev","target","checked","userInfo","JSON","parse","sessionStorage","getItem","error","setItem","stringify","dispatch","_this2","style","formLogin","es_alert","marginBottom","showIcon","closable","es_checkbox","href","float","width"],"mappings":"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","file":"static/js/12.bec134e2.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-5-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"group\":\"login_group__17ASA\",\"wraper\":\"login_wraper__W4lNK\",\"login-wraper\":\"login_login-wraper__H53-D\"};","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* stylelint-disable at-rule-empty-line-before,at-rule-name-space-after,at-rule-no-unknown */\\n/* stylelint-disable no-duplicate-selectors */\\n/* stylelint-disable */\\n/* stylelint-disable declaration-bang-space-before,no-duplicate-selectors,string-no-newline */\\n.login .ant-tabs .ant-tabs-bar {\\n  margin-bottom: 24px;\\n  text-align: center;\\n  border-bottom: 0;\\n}\\n.login .ant-form-item {\\n  margin: 0 2px 24px;\\n}\\n.login .getCaptcha {\\n  display: block;\\n  width: 100%;\\n}\\n.login .icon {\\n  margin-left: 16px;\\n  color: rgba(0, 0, 0, 0.2);\\n  font-size: 24px;\\n  vertical-align: middle;\\n  cursor: pointer;\\n  transition: color 0.3s;\\n}\\n.login .icon:hover {\\n  color: #0139FD;\\n}\\n.login .other {\\n  margin-top: 24px;\\n  line-height: 22px;\\n  text-align: left;\\n}\\n.login .other .register {\\n  float: right;\\n}\\n.login .prefixIcon {\\n  color: rgba(0, 0, 0, 0.25);\\n  font-size: 14px;\\n}\\n.login .submit {\\n  width: 100%!important;\\n  margin-top: 24px;\\n}\\n\", \"\"]);\n\n// exports\n","/*\n * @Author: heinan \n * @Date: 2019-03-15 09:39:20 \n * @Last Modified by: heinan\n * @Last Modified time: 2019-03-16 11:56:48\n * @Describe: 设置渲染表单元素的输入框类型及校验规则\n */\nimport React from 'react';\nimport { Icon } from 'antd';\nimport styles from '../index.less';\n\nexport default {\n  UserName: {\n    props: {\n      size: 'large',\n      id: 'userName',\n      prefix: <Icon type=\"user\" className={styles.prefixIcon} />,\n      placeholder: '请输入用户名',\n    },\n    rules: [\n      {\n        required: true,\n        message: '请输入你的用户名!',\n      },\n    ],\n  },\n  Password: {\n    props: {\n      size: 'large',\n      prefix: <Icon type=\"lock\" className={styles.prefixIcon} />,\n      type: 'password',\n      id: 'password',\n      placeholder: '请输入用户密码',\n    },\n    rules: [\n      {\n        required: true,\n        message: '请输入你的密码!',\n      }, {\n        pattern: /^.*(?=.{6,})(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/,\n        message: '密码校验失败!密码包含大小写字母、数字、特殊符号',\n      }\n    ],\n  },\n  Mobile: {\n    props: {\n      size: 'large',\n      prefix: <Icon type=\"mobile\" className={styles.prefixIcon} />,\n      placeholder: 'mobile number',\n    },\n    rules: [\n      {\n        required: true,\n        message: 'Please enter mobile number!',\n      },\n      {\n        pattern: /^1\\d{10}$/,\n        message: 'Wrong mobile number format!',\n      },\n    ],\n  },\n  Captcha: {\n    props: {\n      size: 'large',\n      prefix: <Icon type=\"mail\" className={styles.prefixIcon} />,\n      placeholder: 'captcha',\n    },\n    rules: [\n      {\n        required: true,\n        message: 'Please enter Captcha!',\n      },\n    ],\n  },\n};\n","import { createContext } from 'react';\nconst LoginContext = createContext();\nexport default LoginContext;\n","import React, { Component } from 'react';\nimport { Form, Input, Button, Row, Col } from 'antd';\nimport omit from 'omit.js';\nimport styles from '../index.less';\nimport ItemMap from './map';\nimport LoginContext from './context';\n\nconst FormItem = Form.Item;\n\nclass WrapFormItem extends Component {\n  static defaultProps = {\n    getCaptchaButtonText: 'captcha',\n    getCaptchaSecondText: 'second',\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      count: 0,\n    };\n  }\n\n  componentDidMount() {\n    const { updateActive, name } = this.props;\n    if (updateActive) {\n      updateActive(name);\n    }\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  onGetCaptcha = () => {\n    const { onGetCaptcha } = this.props;\n    const result = onGetCaptcha ? onGetCaptcha() : null;\n    if (result === false) {\n      return;\n    }\n    if (result instanceof Promise) {\n      result.then(this.runGetCaptchaCountDown);\n    } else {\n      this.runGetCaptchaCountDown();\n    }\n  };\n\n  getFormItemOptions = ({ onChange, defaultValue, customprops, rules }) => {\n    const options = {\n      rules: rules || customprops.rules,\n    };\n    if (onChange) {\n      options.onChange = onChange;\n    }\n    if (defaultValue) {\n      options.initialValue = defaultValue;\n    }\n    return options;\n  };\n\n  runGetCaptchaCountDown = () => {\n    const { countDown } = this.props;\n    let count = countDown || 59;\n    this.setState({ count });\n    this.interval = setInterval(() => {\n      count -= 1;\n      this.setState({ count });\n      if (count === 0) {\n        clearInterval(this.interval);\n      }\n    }, 1000);\n  };\n\n  render() {\n    const { count } = this.state;\n\n    const {\n      form: { getFieldDecorator },\n    } = this.props;\n\n    // 这么写是为了防止restProps中 带入 onChange, defaultValue, rules props\n    const {\n      onChange,\n      customprops,\n      defaultValue,\n      rules,\n      name,\n      getCaptchaButtonText,\n      getCaptchaSecondText,\n      updateActive,\n      type,\n      ...restProps\n    } = this.props;\n\n    // get getFieldDecorator props\n    const options = this.getFormItemOptions(this.props);\n\n    const otherProps = restProps || {};\n    if (type === 'Captcha') {\n      const inputProps = omit(otherProps, ['onGetCaptcha', 'countDown']);\n      return (\n        <FormItem>\n          <Row gutter={8}>\n            <Col span={16}>\n              {getFieldDecorator(name, options)(<Input {...customprops} {...inputProps} />)}\n            </Col>\n            <Col span={8}>\n              <Button\n                disabled={count}\n                className={styles.getCaptcha}\n                size=\"large\"\n                onClick={this.onGetCaptcha}\n              >\n                {count ? `${count} ${getCaptchaSecondText}` : getCaptchaButtonText}\n              </Button>\n            </Col>\n          </Row>\n        </FormItem>\n      );\n    }\n    return (\n      <FormItem>\n        {getFieldDecorator(name, options)(<Input {...customprops} {...otherProps} />)}\n      </FormItem>\n    );\n  }\n}\n\nconst LoginItem = {};\nObject.keys(ItemMap).forEach(key => {\n  const item = ItemMap[key];\n  LoginItem[key] = props => (\n    <LoginContext.Consumer>\n      {context => (\n        <WrapFormItem\n          customprops={item.props}\n          rules={item.rules}\n          {...props}\n          type={key}\n          updateActive={context.updateActive}\n          form={context.form}\n        />\n      )}\n    </LoginContext.Consumer>\n  );\n});\n\nexport default LoginItem;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Button } from 'antd';\nimport styles from '../index.less';\n\nconst LoginSubmit = ({ className, ...rest }) => {\n  const clsString = classNames(styles.submit, className);\n  return (\n    <div>\n      <Button size=\"large\" className={clsString} type=\"primary\" htmlType=\"submit\" {...rest} />\n    </div>\n  );\n};\n\nexport default LoginSubmit;\n","/*\n * @Author: heinan \n * @Date: 2019-03-14 12:20:00 \n * @Last Modified by: heinan\n * @Last Modified time: 2019-03-15 09:30:14\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\n\nimport { Form, Tabs } from 'antd';\nimport LoginItem from './sub/item';\nimport LoginTab from './sub/item';\nimport LoginSubmit from './sub/submit';\nimport LoginContext from './sub/context';\nimport styles from './index.less';\n\nclass Login extends Component {\n  //执行传参数据类型\n  static propTypes = {\n    className: PropTypes.string,\n    defaultActiveKey: PropTypes.string,\n    onTabChange: PropTypes.func,\n    onSubmit: PropTypes.func,\n  };\n  //设置默认参数\n  static defaultProps = {\n    className: '',\n    defaultActiveKey: '',\n    onTabChange: () => {},\n    onSubmit: () => {},\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      type: props.defaultActiveKey,\n      tabs: [],\n      active: {},\n    };\n  }\n  //设置当前tab选中状态\n  onSwitch = type => {\n    this.setState({\n      type,\n    });\n    const { onTabChange } = this.props;\n    onTabChange(type);\n  };\n\n  getContext = () => {\n    const { tabs } = this.state;\n    const { form } = this.props;\n    return {\n      tabUtil: {\n        addTab: id => {\n          this.setState({\n            tabs: [...tabs, id],\n          });\n        },\n        removeTab: id => {\n          this.setState({\n            tabs: tabs.filter(currentId => currentId !== id),\n          });\n        },\n      },\n      form,\n      updateActive: activeItem => {\n        const { type, active } = this.state;\n        if (active[type]) {\n          active[type].push(activeItem);\n        } else {\n          active[type] = [activeItem];\n        }\n        this.setState({\n          active,\n        });\n      },\n    };\n  };\n  //表单提交事件\n  handleSubmit = e => {\n    e.preventDefault();\n    const { active, type } = this.state;\n    const { form, onSubmit } = this.props;\n    const activeFileds = active[type];\n    form.validateFields(activeFileds, { force: true }, (err, values) => {\n      onSubmit(err, values);\n    });\n  };\n\n  render() {\n    const { className, children } = this.props;\n    const { type, tabs } = this.state;\n    const TabChildren = [];\n    const otherChildren = [];\n    //遍历传入的子元素, 其他类型的tab保存到otherChildren\n    React.Children.forEach(children, item => {\n      if (!item) {\n        return;\n      }\n      if (item.type.typeName === 'LoginTab') {\n        TabChildren.push(item);\n      } else {\n        otherChildren.push(item);\n      }\n    });\n    return (\n      <LoginContext.Provider value={this.getContext()}>\n        <div className={classNames(className, styles.login)}>\n          <Form onSubmit={this.handleSubmit}>\n            {tabs.length ? (\n              <React.Fragment>\n                <Tabs\n                  animated={false}\n                  className={styles.tabs}\n                  activeKey={type}\n                  onChange={this.onSwitch}\n                >\n                  {TabChildren}\n                </Tabs>\n                {otherChildren}\n              </React.Fragment>\n            ) : (\n              children\n            )}\n          </Form>\n        </div>\n      </LoginContext.Provider>\n    );\n  }\n}\n\nLogin.Tab = LoginTab;\nLogin.Submit = LoginSubmit;\nObject.keys(LoginItem).forEach(item => {\n  Login[item] = LoginItem[item];\n});\n\nexport default Form.create()(Login);\n","import React, { Component } from 'react'\nimport { Checkbox, Alert } from 'antd';\nimport { connect } from 'dva';\nimport style from './login.module.css';\nimport Login from '@/components/Login';\n\nconst { UserName, Password, Submit } = Login;\n\nconst mapState = store => {\n  window.store = store;\n  return { ...store.login }\n}\n\n@connect(mapState)\nclass LoginDemo extends Component {\n  state = {\n    notice: '',\n    autoLogin: false,\n    user_name: '',\n    user_pwd: ''\n  }\n  formLogin(error, values) {\n    if (error !== null) return;\n    let { user_name, user_pwd } = values;\n    sessionStorage.setItem('userInfo', JSON.stringify({ user_name, user_pwd }));\n    this.props.dispatch({ type: 'login/login', user_name, user_pwd });\n  }\n  changeAutoLogin = ev => {\n    this.setState({ autoLogin: ev.target.checked }, () => {\n      if (this.state.autoLogin) {\n        let userInfo = JSON.parse(sessionStorage.getItem('userInfo'));\n        if (!userInfo) {\n          return;\n        }\n        let { user_name, user_pwd } = userInfo;\n        this.setState({ user_name, user_pwd })\n      } else {\n        this.setState({ user_name: '', user_pwd: '' })\n      }\n    });\n  }\n  render() {\n    return <div className={style.wraper}>\n      <Login\n        className={style['login-wraper']}\n        defaultActiveKey={this.state.type}\n        onTabChange={this.onTabChange}\n        onSubmit={(error, values) => {\n          this.formLogin(error, values);\n        }}\n      >\n        <div>\n          {\n            this.state.notice &&\n            <Alert style={{ marginBottom: 24 }} message={this.state.notice} type=\"error\" showIcon closable />\n          }\n          <UserName name=\"user_name\" />\n          <Password name=\"user_pwd\" />\n        </div>\n        <div className='ant-form-item'>\n          <Checkbox checked={this.state.autoLogin} onChange={ev => this.changeAutoLogin(ev)}>记住密码</Checkbox>\n          <a href='javasript:void(0)' style={{ float: 'right' }}>忘记密码</a>\n        </div>\n        <Submit style={{ width: '100%' }}>登陆</Submit>\n      </Login>\n    </div>\n  }\n}\nexport default LoginDemo;"],"sourceRoot":""}