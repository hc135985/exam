{"version":3,"sources":["components/BasicLayout.module.css","components/Header/Header.module.css","components/BasicLayout.jsx","components/aside/index.jsx","components/Breadcrumb/index.jsx","components/Header/index.jsx","components/NoAutho.jsx","page/main/index.jsx"],"names":["module","exports","logo","header","layoutContent","layout","logout","slide","user","menu","Header","Content","Sider","BasicLayout","_this$props","this","props","aside","breadcrumb","react_default","a","createElement","className","style","BasicLayout_Header","src","alt","width","collapsible","collapsedWidth","background","padding","React","Children","map","children","item","Component","SubMenu","Aside","connect","state","Object","objectSpread","main","global","dispatch","setOpenKeys","openKeys","type","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","groups","window","aab","es_menu","mode","height","borderRight","theme","onOpenChange","noAutho","key","id","title","icon","groupIcon","groupName","items","val","Item","router","to","pathname","path","parent","child","text","nextProps","childRoutes","viewAuthority","length","initGroups","forEach","result","find","push","isAutho","arr","findIndex","view_id","filter","showAside","every","BreadCrumb","withRouter","location","marginTop","store","login","user_name","userInfo","target","rel","href","Divider","onClick","dropdown","overlay","placement","styles","avatar","NoAutho","textAlign","color","fontSize","Authorization","history","components_NoAutho","router_view","Main","components_BasicLayout","Breadcrumb","components_aside","components_Header","main_Authorization"],"mappings":"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","file":"static/js/13.dd86c1f5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"BasicLayout_logo__1vs5H\",\"header\":\"BasicLayout_header__1FsuM\",\"layoutContent\":\"BasicLayout_layoutContent__13wOL\",\"layout\":\"BasicLayout_layout__1xysh\",\"logout\":\"BasicLayout_logout__3Jid7\",\"slide\":\"BasicLayout_slide__3G1xS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Header_user__NM2WH\",\"menu\":\"Header_menu__TK5gP\"};","import React, { Component } from 'react'\nimport style from './BasicLayout.module.css'\nimport {\n    Layout\n} from 'antd';\nconst { Header, Content, Sider } = Layout;\nclass BasicLayout extends Component {\n    render() {\n        let {aside,breadcrumb,header} = this.props;\n        return <Layout className={style.layout}>\n            <Header className={style.header}>\n                <div className={style.logo}>\n                    <img src=\"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1551624718911&di=4a7004f8d71bd8da84d4eadf1b59e689&imgtype=0&src=http%3A%2F%2Fimg105.job1001.com%2Fupload%2Falbum%2F2014-10-15%2F1413365052_95IE3msH.jpg\" alt=\"\"/>\n                </div>\n                {/*  */}\n                <div className={style.logout}>\n                    {header}\n                </div>\n            </Header>\n            <Layout className={style.layoutContent}>\n                {/* 侧边栏 */}\n                <Sider \n                    width={200} \n                    collapsible\n                    collapsedWidth={0}\n                    style={{ background: '#fff' }}\n                    className={style.slide}\n                >\n                    {aside}\n                </Sider>\n                {/* 主要区域 */}\n                <Layout style={{ padding: '0 24px 24px' }}>\n                    {breadcrumb}\n                    <Content>\n                       {React.Children.map(this.props.children,item=>item)}\n                    </Content>\n                </Layout>\n            </Layout>\n        </Layout>\n    }\n}\n\nexport default BasicLayout;\n\n","import React, { Component } from 'react'\nimport {Menu,Icon} from 'antd'\nimport {Link} from 'dva/router'\nimport { connect } from 'dva';\nconst {SubMenu} = Menu\nlet mapState = (state)=>{\n  return {...state.main,...state.global}\n}\nlet mapDispatch = dispatch=>{\n  return {\n    setOpenKeys(openKeys){\n      dispatch({type:'main/setOpenKeys',openKeys});\n    }\n  }\n}\n@connect(mapState,mapDispatch)\nclass Aside extends Component {\n  constructor(props){\n    super(props);\n    this.state = {\n      groups:[]\n    }\n  }\n  static getDerivedStateFromProps(nextProps){\n    let {childRoutes} = nextProps;\n    let {viewAuthority} = nextProps;\n    if(viewAuthority.length === 0){\n      return {}\n    }\n    // 对路由信息进行分类管理\n    let initGroups = [];\n    childRoutes && childRoutes.forEach(item=>{\n      let result = initGroups.find(val=>val.groupName === item.groupName);\n      if(result){\n        result.items.push(item)\n      }else{\n        initGroups.push({groupName:item.groupName,groupIcon:item.groupIcon,items:[item],id:item.id});\n      }\n    });\n    function isAutho(arr){\n      arr.forEach((item,key)=>{\n        if(viewAuthority.findIndex(val=>val.view_id === item.id) === -1){\n          item.noAutho = true;\n        }\n        if(item.items){\n          isAutho(item.items);\n        }\n      })\n    }\n    isAutho(initGroups);\n    initGroups.forEach(item=>{\n      item.items = item.items.filter(val=>val.showAside !== 'no');\n      if(item.items.every(val=>val.noAutho)){\n        item.noAutho = true;\n      }else{\n        item.noAutho = false;\n      }\n    })\n    return {\n     groups:initGroups\n    }\n  }\n  render() {\n    window.aab = this;\n    let {groups} = this.state;\n    let {openKeys,setOpenKeys} = this.props;\n    return <Menu\n      mode=\"inline\"\n      style={{ height: '100%', borderRight: 0 }}\n      openKeys={openKeys}\n      theme=\"dark\"\n      onOpenChange={(openKeys)=>setOpenKeys(openKeys)}\n    >\n      {\n        groups && groups.map(item=>{\n          if(item.noAutho){\n            return null;\n          }\n          return <SubMenu key={item.id} title={<span><Icon type={item.groupIcon} />{item.groupName}</span>}>\n            {\n              item.items && item.items.map(val=>{\n                if(val.noAutho){\n                  return null;\n                }\n                return <Menu.Item key={val.id}>\n                  <Link to={{pathname:val.path,state:{parent:item.groupName,child:val.text,id:val.id}}}>{val.text}</Link>\n                </Menu.Item>\n              })\n            }\n          </SubMenu>\n        })\n      }\n    </Menu>\n  }\n}\nexport default Aside;","import React, { Component } from 'react'\n// import {Breadcrumb} from 'antd'\nimport {withRouter} from 'dva/router'\n@withRouter\nclass BreadCrumb extends Component {\n  render() {\n    \n    \n    let {state} = this.props.location;\n    // let parent = '';\n    let child = '';\n    // console.log(this.props.history)\n    if(state){\n      // parent = state.parent;\n      child = state.child;\n    }\n    // return <Breadcrumb style={{ margin: '16px 0' }}>\n    //     <Breadcrumb.Item>{parent || '考试管理'}</Breadcrumb.Item>\n    //     <Breadcrumb.Item>{child || '添加试题'}</Breadcrumb.Item>\n    //   </Breadcrumb>\n    return (\n      <h2 style={{\n        padding: '20px 0',\n        marginTop: '10px'\n      }}>{child}</h2>\n    )\n  }\n}\nexport default BreadCrumb","import React, { Component } from 'react'\nimport {Avatar, Menu, Dropdown} from 'antd'\nimport {connect} from 'dva'\nimport {withRouter} from 'dva/router'\nimport styles from './Header.module.css'\n\nlet mapState = store => {\n    window.store = store;\n    return {...store.login,...store.main}\n}\n@withRouter\n@connect(mapState)\nclass Header extends Component {\n  componentDidMount(){\n    this.props.dispatch({type:'main/getUserInfo'});\n  }\n  render() {\n    const {user_name} = this.props.userInfo;\n    const menu = (\n      <Menu style={{width: '120px'}}>\n        <Menu.Item>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.alipay.com/\">个人中心</a>\n        </Menu.Item>\n        <Menu.Item>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.taobao.com/\">我的班级</a>\n        </Menu.Item>\n        <Menu.Divider />\n        <Menu.Item>\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.taobao.com/\">设置</a>\n        </Menu.Item>\n        <Menu.Item key=\"logout\" onClick={()=>this.props.dispatch({type:'login/logout'})}>\n          退出登录\n        </Menu.Item>\n      </Menu>\n    )\n    return  (\n      <div>\n        <Dropdown overlay={menu} placement=\"bottomRight\">\n          <span className={styles.user}>\n            <Avatar src=\"https://cdn.nlark.com/yuque/0/2019/png/anonymous/1547609339813-e4e49227-157c-452d-be7e-408ca8654ffe.png?x-oss-process=image/resize,m_fill,w_48,h_48/format,png\" />\n            {user_name}\n          </span>\n        </Dropdown>\n      </div>\n    )\n  }\n}\nexport default Header;\n","import React from 'react'\nimport {Icon} from 'antd'\nfunction NoAutho(){\n    return <div style={{textAlign:'center'}}>\n        <Icon style={{color:'red','fontSize':'50px'}} type=\"close\" />\n        <div>没有权限</div>\n    </div>\n}\n\nexport default NoAutho;","import React, { Component } from 'react'\nimport BasicLayout from '../../components/BasicLayout'\nimport RouterView from '../../utils/router-view'\nimport Aside from '../../components/aside'\nimport BreadCrumb from '../../components/Breadcrumb'\nimport Header from '../../components/Header'\nimport {connect} from 'dva'\nimport NoAutho from '../../components/NoAutho'\nlet mapState = store => {\n  return {...store.global}\n}\n@connect(mapState)\nclass Authorization extends Component{\n  render(){\n    let {history,viewAuthority} = this.props;\n    if(!history.location.state || viewAuthority.length === 0){\n      return <NoAutho />;\n    }\n    let index = viewAuthority.findIndex(item=>item.view_id === history.location.state.id);\n    if(index=== -1){\n      return <NoAutho />;\n    }\n    return <RouterView childRoutes={this.props.childRoutes} />\n  }\n}\nclass Main extends Component {\n  render() {\n    window.main = this;\n    return <BasicLayout \n        breadcrumb={<BreadCrumb />}\n        aside={<Aside childRoutes={this.props.childRoutes} />}\n        header={<Header />}\n      >\n        <Authorization {...this.props} />\n      </BasicLayout>\n  }   \n}\n\nexport default Main"],"sourceRoot":""}